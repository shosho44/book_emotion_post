<div class="flex">
    <%= render 'shared/left_column' %>
    <div class="w-6/12">
        <div class="mx-auto my-0 w-10/12">
            <div class="w-full">
                <div class="flex mt-1.5">
                    <div>
                        <!--Todo: 直下画像src変更する。画像保存先を決定していないので、保存先を決定出来次第変更する-->
                        <img class="h-28 w-28" src="data:image/png;base64, {{ user_image }}">
                    </div>
                    <div class="ml-1.5 w-96 break-all">
                        <div class="text-right">
                            <!--{% if is_current_user_equal_profile_user == True %}-->
                            <!--Todo: 表示しているプロフィールがオーナーかどうかの判定をつける-->
                            <%= link_to 'プロフィールを編集する', edit_user_url %>
                            <!--{% endif %}-->
                        </div>
                        <div>
                            <span class="text-3xl font-bold">
                                <%= @user.name %>
                            </span>
                        </div>
                        <div>
                            <span>
                                @<%= @user.id %>
                            </span>
                        </div>
                        <div class="flex w-96 break-all">
                            <span>
                                <%= @user.self_introduction %>
                            </span>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Todo: user nameを取得して入れる。いいね数を取得して入れる。いいね数テーブルとusersとpassagesをjoinしたものを回す-->
            <% @passages.each do |passage|%>
            <!--{% for passage_information, passage_like_sum in ziped_list %}-->
            <div class="bg-blue-100 rounded-lg mt-2.5 mb-2.5">
                <div class="m-auto py-4">
                    <div class="break-all ml-auto mr-auto w-96">
                        <p><%= passage.content %></p>
                        <!--<p>{{ passage_information.Passages.passage_content }}</p>-->
                    </div>
                </div>
                <div class="break-all m-auto w-96">
                    <span><i class="fas fa-book-open mr-1.5"></i><%= passage.book_title %></span>
                </div>
                <div class="flex m-auto w-96">
                    <span class="border-b border-black w-96 my-1.5"></span>
                </div>
                <div class="flex m-auto pb-1.5 w-96 break-all">
                    <div class="w-5/12">
                        <a class="hover:text-gray-50"
                            href="/user/{{ passage_information.Users.user_id }}"><%= "ユーザー名" %></a>
                        <!-- Todo: user nameを取得して入れる。usersとpassagesをjoinしたものを回す。href変更-->
                        <!--<a class="hover:text-gray-50"
              href="/user/{{ passage_information.Users.user_id }}">{{ passage_information.Users.user_name }}</a>-->
                    </div>
                    <div class="flex w-3/12">
                        <form action="/passage/{{ passage_information.Passages.passage_id }}/push-like" method="POST">
                            <button type="submit"><i class="far fa-heart mr-1.5"></i></button>
                        </form>
                        <!-- Todo: いいね数を取得して入れる。いいね数モデルとpassagesをjoinしたものを回す-->
                        <a class="hover:text-gray-50"
                            href="/post/{{ passage_information.PostIDs.post_id }}/likes"><%= 'いいね数（栞の数）' %></a>
                        <!--<a class="hover:text-gray-50"
              href="/post/{{ passage_information.PostIDs.post_id }}/likes">{{ passage_like_sum }}</a>-->
                    </div>
                    <div class="w-2/12">
                        <%= link_to 'コメント', user_passage_path(user_id: passage.user_id, id: passage.id), class: 'hover:text-gray-50' %>
                    </div>
                    <div class="text-right w-2/12">
                        <!--Todo: ユーザーの確認を行う-->
                        <!--{% if passage_information.Passages.user_id == current_user_id %}-->
                        <%= link_to user_passage_path(user_id: "test_user_1", id: passage.id), method: :delete do %>
                        <i class="fas fa-trash"></i>
                        <% end %>
                        <!--Todo: actionを変更する
            <form action="/passage/{{ passage_information.Passages.passage_id }}/delete" method="POST">
              <button type="submit"><i class="fas fa-trash"></i></button>
            </form>
            -->
                        <!--{% endif %}-->
                    </div>
                </div>
            </div>
            <% end %>
        </div>
    </div>
</div>